<main>
  <div class="age-calculator-container">
    <form [formGroup]="ageForm" (ngSubmit)="calculateAge()" class="age-form">
      <div class="age-input">
        <div class="form-group">
          <label for="day">Day</label>
          <input type="number" id="day" formControlName="day" placeholder="DD" />
          <div class="error-message" [class.show]="ageForm.get('day')?.invalid && ageForm.get('day')?.touched">
            <span *ngIf="ageForm.get('day')?.errors?.['required']">Day is required</span>
            <span *ngIf="ageForm.get('day')?.errors?.['min'] || ageForm.get('day')?.errors?.['max']">
              Must be a valid day
            </span>
          </div>
        </div>

        <div class="form-group">
          <label for="month">Month</label>
          <input type="number" id="month" formControlName="month" placeholder="MM" />
          <div class="error-message" [class.show]="ageForm.get('month')?.invalid && ageForm.get('month')?.touched">
            <span *ngIf="ageForm.get('month')?.errors?.['required']">Month is required</span>
            <span *ngIf="ageForm.get('month')?.errors?.['min'] || ageForm.get('month')?.errors?.['max']">
              Must be a valid month
            </span>
          </div>
        </div>

        <div class="form-group">
          <label for="year">Year</label>
          <input type="number" id="year" formControlName="year" placeholder="YYYY" />
          <div class="error-message" [class.show]="ageForm.get('year')?.invalid && ageForm.get('year')?.touched">
            <span *ngIf="ageForm.get('year')?.errors?.['required']">Year is required</span>
            <span *ngIf="ageForm.get('year')?.errors?.['max']">Must be a valid year</span>
          </div>
        </div>
      </div>



      <div class="line-container">
        <!-- Horizontal Line -->
        <div class="horizontal-line"></div>

        <!-- SVG Button -->
        <button type="submit" class="svg-button" aria-label="Submit">
          <img src="assets/svg/icon-arrow.svg" alt="Submit" />
        </button>
      </div>
    </form>

    <div class="age-output" *ngIf="age">
      <p>
        <span>{{ age.years }}</span> years
      </p>
      <p>
        <span>{{ age.months }}</span> months
      </p>
      <p>
        <span>{{ age.days }}</span> days
      </p>
    </div>
  </div>
</main>
